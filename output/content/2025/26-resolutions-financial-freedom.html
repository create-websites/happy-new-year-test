<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="A comprehensive financial planning dashboard featuring 26 actionable resolutions for saving money, managing debt, and building wealth." name="description"/>
    <meta content="personal finance, budget tips, saving money, investing for beginners, debt snowball, financial freedom, wealth management, 50/30/20 rule" name="keywords"/>
    <title>The Wealth Architect: Financial Protocols</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Typography */
        @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Grotesk:wght@300;500;700&display=swap');

        :root {
            /* Palette: Modern Fintech (Emerald, Teal, Slate, White) */
            --color-bg: #F0FDF4; /* Green-50 */
            --color-surface: #FFFFFF;
            --color-primary: #059669; /* Emerald-600 */
            --color-dark: #064E3B; /* Emerald-900 */
            --color-text: #334155; /* Slate-700 */
            --color-accent: #0D9488; /* Teal-600 */
        }

        body {
            background-color: var(--color-bg);
            color: var(--color-text);
            font-family: 'DM Sans', sans-serif;
        }

        h1, h2, h3, .display-font {
            font-family: 'Space Grotesk', sans-serif;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 300px;
            margin: 0 auto;
        }

        /* Custom Scrollbar */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #DCFCE7; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #059669; 
            border-radius: 4px;
        }

        .card-hover {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(5, 150, 105, 0.1), 0 4px 6px -2px rgba(5, 150, 105, 0.05);
            border-color: #34D399;
        }

        .tab-btn.active {
            background-color: #064E3B;
            color: white;
            border-color: #064E3B;
        }

        .animate-slide-up {
            animation: slideUp 0.3s ease-out forwards;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    
    <!-- Application Structure Plan:
         1. Header: Professional, trustworthy title ("The Wealth Architect").
         2. Financial Vitality Dashboard (Top):
            - Doughnut Chart: "The Golden Ratio" (50/30/20 Rule) - Visualizing Needs vs Wants vs Savings.
            - Line Chart: "The Cost of Waiting" (Compound Interest) - Showing why starting NOW is critical.
         3. Protocol Vault (Main):
            - 26 Resolutions categorized by: Psychology (Mindset), Defense (Cutting Costs), Offense (Income/Investing), Debt (Management).
            - Detail View: "The Leak" (Problem), "The Protocol" (Solution), "Annual Savings" (Projected Impact).
         4. Wealth Stack Builder (Bottom):
            - A "Portfolio" of habits. Users select habits to build their 2025 financial plan.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-emerald-900 text-white border-b border-emerald-700 py-8 px-6 shadow-xl relative overflow-hidden">
        <!-- Abstract Decoration -->
        <div class="absolute top-0 right-0 w-64 h-64 bg-emerald-800 rounded-full mix-blend-multiply filter blur-3xl opacity-50 transform translate-x-1/2 -translate-y-1/2"></div>
        
        <div class="max-w-7xl mx-auto relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-end">
                <div>
                    <h1 class="text-4xl md:text-5xl font-bold tracking-tight mb-2 display-font">The Wealth Architect</h1>
                    <p class="text-emerald-200 text-lg max-w-xl">
                        Financial freedom isn't about luck; it's about structure. 
                        Explore 26 actionable protocols to optimize spending, eliminate debt, and accelerate compounding.
                    </p>
                </div>
                <div class="mt-6 md:mt-0 text-right">
                    <span class="inline-block px-4 py-1 rounded-full bg-emerald-800 text-emerald-300 text-xs font-bold uppercase tracking-wider border border-emerald-700">
                        2025 Fiscal Strategy
                    </span>
                </div>
            </div>
        </div>
    </header>

    <main class="flex-grow w-full max-w-7xl mx-auto px-4 md:px-8 py-10 space-y-12">

        <!-- SECTION 1: Vitality Dashboard -->
        <section>
            <div class="mb-6 border-l-4 border-emerald-500 pl-4">
                <h2 class="text-2xl font-bold text-slate-800 display-font">Financial Vitality Metrics</h2>
                <p class="text-slate-500 mt-1">Understanding the fundamental math of wealth accumulation.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Chart 1: The Ideal Budget -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-emerald-100 flex flex-col items-center">
                    <h3 class="text-lg font-bold text-emerald-900 mb-2 display-font">The 50/30/20 Rule</h3>
                    <p class="text-xs text-slate-500 mb-4 text-center">The gold standard for sustainable budgeting.</p>
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>

                <!-- Chart 2: Compound Interest -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-emerald-100 flex flex-col items-center">
                    <h3 class="text-lg font-bold text-emerald-900 mb-2 display-font">The Cost of Waiting</h3>
                    <p class="text-xs text-slate-500 mb-4 text-center">Impact of investing $500/mo (7% return) starting at different ages.</p>
                    <div class="chart-container">
                        <canvas id="compoundChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: Protocol Vault -->
        <section id="protocols">
            <div class="flex flex-col md:flex-row justify-between items-end mb-6 border-b border-emerald-200 pb-4">
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 display-font">The Protocol Vault</h2>
                    <p class="text-slate-500 mt-1">Select a category to filter financial resolutions.</p>
                </div>
                <div class="flex flex-wrap gap-2 mt-4 md:mt-0">
                    <button class="tab-btn active px-4 py-2 rounded-lg text-sm font-bold border border-emerald-200 transition-colors" onclick="filterList('All', this)">All Protocols</button>
                    <button class="tab-btn px-4 py-2 rounded-lg text-sm font-bold border border-emerald-200 bg-white text-slate-600 hover:bg-emerald-50 transition-colors" onclick="filterList('Psychology', this)">Psychology</button>
                    <button class="tab-btn px-4 py-2 rounded-lg text-sm font-bold border border-emerald-200 bg-white text-slate-600 hover:bg-emerald-50 transition-colors" onclick="filterList('Defense', this)">Defense (Cuts)</button>
                    <button class="tab-btn px-4 py-2 rounded-lg text-sm font-bold border border-emerald-200 bg-white text-slate-600 hover:bg-emerald-50 transition-colors" onclick="filterList('Offense', this)">Offense (Growth)</button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 h-[600px]">
                <!-- Left: List View -->
                <div class="lg:col-span-4 bg-white rounded-xl shadow-sm border border-emerald-100 overflow-hidden flex flex-col">
                    <div class="p-4 bg-emerald-50 border-b border-emerald-100 flex justify-between items-center">
                        <span class="text-xs font-bold text-emerald-800 uppercase tracking-wider">Available Protocols</span>
                    </div>
                    <div class="overflow-y-auto custom-scroll p-2 space-y-2 flex-grow" id="resolutionList">
                        <!-- JS injected -->
                    </div>
                </div>

                <!-- Right: Detail View -->
                <div class="lg:col-span-8 bg-white rounded-xl shadow-lg border border-emerald-200 p-8 relative flex flex-col">
                    <div class="h-full overflow-y-auto custom-scroll flex flex-col" id="detailView">
                        <!-- Default State -->
                        <div class="m-auto text-center opacity-50">
                            <span class="text-6xl text-emerald-300 block mb-4">$</span>
                            <h3 class="text-2xl font-bold text-slate-400 display-font">Select a Protocol</h3>
                            <p class="text-slate-400">View the financial impact analysis</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: Wealth Stack Builder -->
        <section class="bg-slate-900 rounded-2xl p-8 text-white shadow-2xl mb-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="md:col-span-2">
                    <h2 class="text-2xl font-bold text-emerald-400 mb-2 display-font">My Wealth Stack</h2>
                    <p class="text-slate-400 mb-6">
                        Successful wealth building relies on stacking small, consistent habits. 
                        Select up to 5 protocols to create your personalized financial roadmap for the year.
                    </p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 min-h-[100px]" id="stackList">
                        <p class="text-slate-600 italic col-span-2 border border-dashed border-slate-700 rounded p-4 text-center">
                            No protocols selected. Add them from the vault above.
                        </p>
                    </div>
                </div>
                
                <div class="bg-emerald-900/50 rounded-xl p-6 border border-emerald-800 flex flex-col items-center text-center backdrop-blur-sm">
                    <h3 class="text-emerald-100 font-bold uppercase tracking-widest text-xs mb-4">Commitment Level</h3>
                    <div class="text-5xl font-bold text-emerald-400 mb-2 display-font" id="stackCount">0/5</div>
                    <p class="text-xs text-emerald-200/70 mb-6">Protocols Active</p>
                    
                    <button class="w-full py-3 bg-emerald-500 hover:bg-emerald-400 text-white font-bold rounded shadow-lg shadow-emerald-900/50 transition-colors" onclick="printPlan()">
                        Lock In Plan
                    </button>
                </div>
            </div>
        </section>

    </main>

    <html><head></head><body><footer class="bg-gray-800 text-gray-300">
  <div class="container mx-auto px-6 py-12 lg:px-8">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4">
      
      <div>
        <h5 class="text-lg font-semibold text-white mb-4">Happy New Year Wishes</h5>
        <ul class="space-y-2">
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/wishes/new-year-wishes-in-100-langauges.html">Wishes in 100 languages</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/wishes/">Wishes in Indian Languages</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/wishes/">Wishes in European Languages</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/wishes/10-popular-languages.html">Popular Languages</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/cards/">Cards</a></li>
        </ul>
      </div>

      <div>
        <h5 class="text-lg font-semibold text-white mb-4">International New Year</h5>
        <ul class="space-y-2">
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/chinese-new-year/">Chinese New Year</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/hindu-new-year/">Lunar and Solar Hindu Year</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/jewish-new-year/">Jewesh Roash Hashanah</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/islamic-new-year/">Islamic New Year</a></li>
		  <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/japanese-new-year/">Japanese New Year</a></li>
        </ul>
      </div>

      <div>
        <h5 class="text-lg font-semibold text-white mb-4">Thanks giving and Christmas</h5>
        <ul class="space-y-2">
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/festivals/thanksgiving/">Thanks Giving Gratitude</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/festivals/christmas/">Christmas</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/valentineday/">Love Festival</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/festivals/mothers-day/">Mothers Day</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/festivals/fathers-day/">Fathers Day</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.happy-new-year.org/festivals/halloween/">Halloween Horror</a></li>

          
        </ul>
      </div>

      <div>
        <h5 class="text-lg font-semibold text-white mb-4">Contact Us</h5>
        <div class="space-y-2">
          <p>Redmond<br/>WA, USA</p>
          <p>
            <a class="hover:text-white hover:underline transition-colors duration-200" href="mailto:contact@happy-new-year.org">contact@happy-new-year.org</a>
          </p>
          <p>
            <a class="hover:text-white hover:underline transition-colors duration-200" href="tel:+14253411222">+1 (425) 341-1222</a>
          </p>
        </div>
      </div>
    </div>

    <div class="mt-12 border-t border-gray-700 pt-8 flex flex-col items-center justify-between sm:flex-row">
      <p class="text-sm text-gray-400">© 2025 Dataknobs, Inc. All rights reserved.</p>
      
      <div class="flex space-x-4 mt-4 sm:mt-0">
        <a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.facebook.com/kreatewebsites/">
          <span class="sr-only">Facebook</span>
          <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path clip-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.772-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" fill-rule="evenodd"></path>
          </svg>
        </a>
        <a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.twitter.com/dataknobs/">
          <span class="sr-only">Twitter</span>
          <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
          </svg>
        </a>
        <a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.linkedin.com/company/kreatewebsites/">
          <span class="sr-only">LinkedIn</span>
          <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path clip-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.783-1.75-1.75s.784-1.75 1.75-1.75 1.75.783 1.75 1.75-.784 1.75-1.75 1.75zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" fill-rule="evenodd"></path>
          </svg>
        </a>
      </div>
	  
	  <div class="flex gap-4 mt-4 sm:mt-0">
                    <a class="text-stone-400 hover:text-white" href="https://business.kreatewebsites.com/privacypolicy,html">Privacy Policy</a> <!-- 13 -->
                 
					<a class="text-stone-400 hover:text-white" href="https://business.kreatewebsites.com/sitemap.html">Sitemap</a> <!-- 14 -->
      </div>
    </div>
	
  </div>
</footer></body></html>

    <script>
        // --- DATASET: 26 Financial Resolutions ---
        const protocols = [
            // PSYCHOLOGY (Mindset)
            { id: 1, title: "The 24-Hour Rule", category: "Psychology", leak: "Impulse buying (dopamine hits).", fix: "Wait 24 hours before buying anything non-essential over $50.", impact: "Saves ~$100-300/month on regret purchases." },
            { id: 2, title: "Life Energy Calculation", category: "Psychology", leak: "Disconnect between price and effort.", fix: "Calculate your REAL hourly wage (after tax/commute). Price items in 'hours of life' not dollars.", impact: "Reduces spending by aligning cost with labor." },
            { id: 3, title: "The 'Stranger Test'", category: "Psychology", leak: "Holding onto clutter/bad purchases.", fix: "Ask: 'If a stranger offered me this item or the cash value, which would I take?'", impact: "Clarifies value vs. sunk cost." },
            { id: 4, title: "Unsubscribe Marketing", category: "Psychology", leak: "Trigger-based spending.", fix: "Unsubscribe from 5 retailer emails/texts every week.", impact: "Removes visual cues that trigger spending." },
            { id: 5, title: "No-Spend Days", category: "Psychology", leak: "Habitual daily consumption.", fix: "Designate one day per week as a $0 spend day (eat leftovers, free hobbies).", impact: "Saves ~$50/week ($2,600/year)." },
            
            // DEFENSE (Savings / Cutting Costs)
            { id: 6, title: "The Subscription Audit", category: "Defense", leak: "The 'Lazy Tax' of unused services.", fix: "Print last month's bank statement. Highlight recurring charges. Cancel unused ones immediately.", impact: "Avg. user saves $50/month." },
            { id: 7, title: "Eat at Home Protocol", category: "Defense", leak: "Convenience dining (400% markup).", fix: "Limit takeout/restaurants to 1x per week. Batch cook on Sundays.", impact: "Saves ~$200/month per person." },
            { id: 8, title: "Generic Brands Challenge", category: "Defense", leak: "Paying for marketing, not quality.", fix: "Switch to store-brand for: meds, cleaning supplies, pantry staples.", impact: "Reduces grocery bill by ~25%." },
            { id: 9, title: "Negotiate Fixed Bills", category: "Defense", leak: "Loyalty penalties on insurance/cable.", fix: "Call providers annually. Script: 'I'm thinking of switching, what can you do?'", impact: "One-time saving of $300-500." },
            { id: 10, title: "Energy Vampires", category: "Defense", leak: "Passive utility waste.", fix: "Install LED bulbs, smart plugs, and lower thermostat by 2 degrees.", impact: "Saves ~$150/year." },
            { id: 11, title: "The Grocery List Law", category: "Defense", leak: "In-store impulse buys.", fix: "Never enter a store without a list. Never buy off-list.", impact: "Reduces food waste and overspending." },
            { id: 12, title: "DIY Maintenance", category: "Defense", leak: "Outsourcing simple labor.", fix: "Learn to fix one thing (button, drain, filter) via YouTube before calling a pro.", impact: "Variable, potentially thousands." },
            { id: 13, title: "Second-Hand First", category: "Defense", leak: "Depreciation of new goods.", fix: "Check Marketplace/Thrift before buying furniture, tools, or clothes new.", impact: "Saves 50-80% on retail price." },

            // OFFENSE (Investing / Income / Debt)
            { id: 14, title: "Automate 'Pay Yourself'", category: "Offense", leak: "Saving only what's 'left over'.", fix: "Set auto-transfer to savings/investment on payday, BEFORE bills.", impact: "Guarantees savings rate." },
            { id: 15, title: "Employer Match Max", category: "Offense", leak: "Turning down free money.", fix: "Contribute enough to 401k to get the full company match. It's an instant 100% ROI.", impact: "Thousands in free equity." },
            { id: 16, title: "Debt Avalanche", category: "Offense", leak: "High interest payments.", fix: "Pay minimums on all. Throw ALL extra cash at the highest interest rate debt.", impact: "Mathematically fastest debt freedom." },
            { id: 17, title: "The 1% Raise", category: "Offense", leak: "Lifestyle creep.", fix: "Increase investment contribution by 1% every 6 months or with every raise.", impact: "Painless acceleration of wealth." },
            { id: 18, title: "Audit Tax Withholding", category: "Offense", leak: "Giving the gov an interest-free loan.", fix: "Adjust W-4 so your refund is near zero. Invest the difference monthly.", impact: "Increases monthly cash flow." },
            { id: 19, title: "High Yield Savings (HYSA)", category: "Offense", leak: "Inflation eating cash.", fix: "Move emergency fund from checking (0.01%) to HYSA (4-5%).", impact: "Earns ~$200/year on $5k savings." },
            { id: 20, title: "Zero-Based Budgeting", category: "Offense", leak: "Money disappearing.", fix: "Give every dollar a job (saving, bills, fun) until income minus expenses equals zero.", impact: "Total financial control." },
            { id: 21, title: "Index Fund Default", category: "Offense", leak: "Fees and underperformance.", fix: "Switch from managed funds (high fee) to broad market Index Funds (low fee).", impact: "Saves 1-2% of portfolio annually." },
            { id: 22, title: "Side Hustle Pilot", category: "Offense", leak: "Single income stream risk.", fix: "Sell items, freelance, or consult to generate $100 extra/month.", impact: "Diversification and debt destruction." },
            { id: 23, title: "Credit Utilization < 30%", category: "Offense", leak: "Credit score damage.", fix: "Pay down balances or ask for limit increases to lower utilization.", impact: "Boosts credit score (better mortgage rates)." },
            { id: 24, title: "Emergency Fund First", category: "Offense", leak: "Debt cycles.", fix: "Build $1,000 cash buffer immediately to prevent using credit for emergencies.", impact: "Financial peace of mind." },
            { id: 25, title: "Review Beneficiaries", category: "Offense", leak: "Legal chaos.", fix: "Update beneficiaries on all accounts. Free and critical.", impact: "Asset protection." },
            { id: 26, title: "Net Worth Tracking", category: "Offense", leak: "Lack of progress metrics.", fix: "Calculate Assets - Liabilities once a quarter.", impact: "Gamifies wealth building." }
        ];

        // --- STATE ---
        let currentFilter = 'All';
        let stack = new Set();

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            initCharts();
            renderList();
            updateStackUI();
        });

        // --- LOGIC ---
        function filterList(category, btn) {
            currentFilter = category;
            
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active', 'bg-emerald-900', 'text-white');
                b.classList.add('bg-white', 'text-slate-600');
            });
            btn.classList.remove('bg-white', 'text-slate-600');
            btn.classList.add('active');

            renderList();
        }

        function renderList() {
            const container = document.getElementById('resolutionList');
            container.innerHTML = '';
            
            const items = currentFilter === 'All' ? protocols : protocols.filter(p => p.category === currentFilter);
            
            items.forEach(p => {
                const isSelected = stack.has(p.id);
                const el = document.createElement('div');
                el.className = `p-3 rounded-lg border cursor-pointer flex justify-between items-center card-hover transition-colors ${isSelected ? 'bg-emerald-50 border-emerald-500' : 'bg-white border-slate-200'}`;
                el.onclick = () => showDetail(p.id);
                
                el.innerHTML = `
                    <div>
                        <div class="font-bold text-slate-700 text-sm">${p.title}</div>
                        <div class="text-xs text-emerald-600 font-medium">${p.category}</div>
                    </div>
                    ${isSelected ? '<span class="text-emerald-600 font-bold">✓</span>' : ''}
                `;
                container.appendChild(el);
            });
        }

        function showDetail(id) {
            const p = protocols.find(i => i.id === id);
            const isSelected = stack.has(id);
            const btnText = isSelected ? "Remove from Stack" : "Add to Wealth Stack";
            const btnClass = isSelected ? "bg-slate-100 text-slate-600 border border-slate-300 hover:bg-slate-200" : "bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg shadow-emerald-200";

            const html = `
                <div class="animate-slide-up flex flex-col h-full">
                    <div class="mb-6 border-b border-emerald-100 pb-4">
                        <span class="text-xs font-bold uppercase tracking-wider text-emerald-600 mb-1 block">${p.category} Protocol</span>
                        <h2 class="text-3xl font-bold text-slate-800 display-font mb-2">${p.title}</h2>
                    </div>

                    <div class="grid grid-cols-1 gap-4 mb-8">
                        <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-400">
                            <h4 class="font-bold text-red-900 text-sm uppercase mb-1">The Financial Leak</h4>
                            <p class="text-red-800 text-sm">${p.leak}</p>
                        </div>
                        
                        <div class="bg-emerald-50 p-4 rounded-lg border-l-4 border-emerald-500">
                            <h4 class="font-bold text-emerald-900 text-sm uppercase mb-1">The Protocol Fix</h4>
                            <p class="text-emerald-800 text-sm">${p.fix}</p>
                        </div>

                        <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-700 text-sm uppercase mb-1 flex items-center">
                                <span class="bg-emerald-500 w-2 h-2 rounded-full mr-2"></span> Projected Impact
                            </h4>
                            <p class="text-slate-700 font-bold text-lg">${p.impact}</p>
                        </div>
                    </div>

                    <div class="mt-auto flex justify-end">
                        <button onclick="toggleStack(${p.id})" class="px-8 py-3 rounded-lg font-bold transition-all transform active:scale-95 ${btnClass}">
                            ${btnText}
                        </button>
                    </div>
                </div>
            `;
            document.getElementById('detailView').innerHTML = html;
        }

        function toggleStack(id) {
            if (stack.has(id)) {
                stack.delete(id);
            } else {
                if (stack.size >= 5) {
                    alert("Focus Limit: Select top 5 priorities for maximum adherence.");
                    return;
                }
                stack.add(id);
            }
            updateStackUI();
            renderList();
            showDetail(id);
        }

        function updateStackUI() {
            const list = document.getElementById('stackList');
            const count = document.getElementById('stackCount');
            
            count.innerText = `${stack.size}/5`;
            list.innerHTML = '';

            if (stack.size === 0) {
                list.innerHTML = `<p class="text-slate-400 italic col-span-2 border border-dashed border-slate-700 rounded p-4 text-center">No protocols selected. Add them from the vault above.</p>`;
                return;
            }

            stack.forEach(id => {
                const p = protocols.find(i => i.id === id);
                const el = document.createElement('div');
                el.className = 'bg-emerald-800/50 p-3 rounded border border-emerald-700 flex justify-between items-center';
                el.innerHTML = `
                    <span class="text-white text-sm font-medium">${p.title}</span>
                    <button onclick="toggleStack(${p.id})" class="text-emerald-400 hover:text-white">&times;</button>
                `;
                list.appendChild(el);
            });
        }

        function printPlan() {
            if (stack.size === 0) {
                alert("Please select at least one protocol.");
                return;
            }
            window.print();
        }

        // --- CHARTS ---
        function initCharts() {
            // Chart 1: 50/30/20 Doughnut
            new Chart(document.getElementById('budgetChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Needs (50%)', 'Wants (30%)', 'Savings/Debt (20%)'],
                    datasets: [{
                        data: [50, 30, 20],
                        backgroundColor: ['#059669', '#34D399', '#064E3B'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom' } }
                }
            });

            // Chart 2: Compound Interest Line
            new Chart(document.getElementById('compoundChart'), {
                type: 'line',
                data: {
                    labels: ['Age 25', 'Age 35', 'Age 45', 'Age 55', 'Age 65'],
                    datasets: [{
                        label: 'Start @ 25 (Total: $1.3M)',
                        data: [0, 173000, 500000, 1100000, 2200000], // Rough projection
                        borderColor: '#059669',
                        backgroundColor: 'rgba(5, 150, 105, 0.1)',
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Start @ 35 (Total: $600k)',
                        data: [null, 0, 173000, 500000, 1100000], // 10 year lag
                        borderColor: '#94A3B8',
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { display: false },
                        x: { grid: { display: false } }
                    },
                    plugins: { 
                        legend: { position: 'bottom' },
                        tooltip: { mode: 'index', intersect: false }
                    }
                }
            });
        }
    </script>

</body></html>